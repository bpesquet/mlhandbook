
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Python good practices &#8212; Machine Learning Handbook</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="NumPy" href="numpy.html" />
    <link rel="prev" title="Python cheatsheet" href="python_cheatsheet.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/mlhandbook_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Machine Learning Handbook</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference external" href="https://www.bpesquet.fr/mlkatas">
   Machine Learning Katas
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  overview
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../overview/introduction_to_machine_learning.html">
   Introduction to Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../overview/machine_learning_in_action.html">
   Machine Learning in action
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../overview/introduction_to_reinforcement_learning.html">
   Introduction to Reinforcement Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../overview/introduction_to_mlops.html">
   Introduction to MLOps
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Fundamentals
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../fundamentals/handling_data.html">
   Handling data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../fundamentals/assessing_results.html">
   Assessing results
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../fundamentals/training_models.html">
   Training models
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Algorithms
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../algorithms/classic_ml.html">
   Classic Machine Learning
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../algorithms/k_nearest_neighbors.html">
     K-Nearest Neighbors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../algorithms/linear_regression.html">
     Linear Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../algorithms/logistic_regression.html">
     Logistic Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../algorithms/decision_trees_and_random_forests.html">
     Decision Trees &amp; Random Forests
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../algorithms/bayesian_methods.html">
     Bayesian Methods
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../algorithms/support_vector_machines.html">
     Support Vector Machines
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../algorithms/k_means.html">
     K-Means
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../algorithms/nn_deep_learning.html">
   Neural Networks and Deep Learning
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../algorithms/artificial_neural_networks.html">
     Artificial Neural Networks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../algorithms/convolutional_neural_networks.html">
     Convolutional Neural Networks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../algorithms/recurrent_neural_networks.html">
     Recurrent Neural Networks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../algorithms/autoencoders.html">
     Autoencoders
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../algorithms/neural_style_transfer.html">
     Neural Style Transfer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../algorithms/generative_adversarial_networks.html">
     Generative Adversarial Networks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../algorithms/transformers.html">
     Transformers
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Tools
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="python.html">
   Python
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="python_ecosystem.html">
     The Python ecosystem
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="python_cheatsheet.html">
     Python cheatsheet
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Python good practices
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="numpy.html">
   NumPy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="keras.html">
   Keras
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="pytorch.html">
   PyTorch
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/activation_functions.html">
   Activation functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/glossary.html">
   Glossary
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/acknowledgments.html">
   Acknowledgments
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/tools/python_good_practices.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/bpesquet/mlhandbook"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/bpesquet/mlhandbook/issues/new?title=Issue%20on%20page%20%2Ftools/python_good_practices.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/bpesquet/mlhandbook/edit/master/tools/python_good_practices.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/bpesquet/mlhandbook/master?urlpath=tree/tools/python_good_practices.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/bpesquet/mlhandbook/blob/master/tools/python_good_practices.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#environment-setup">
   Environment setup
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#writing-pythonic-code">
   Writing pythonic code
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-does-pythonic-mean">
     What does “Pythonic” mean?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-swapping-two-variables">
     Example: swapping two variables
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-iterating-on-a-list">
     Example: iterating on a list
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-indexed-traversal">
     Example: indexed traversal
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-searching-in-a-list">
     Example: searching in a list
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-generating-a-list">
     Example: generating a list
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#code-style">
     Code style
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#beyond-pep8">
     Beyond PEP8
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#docstrings">
     Docstrings
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#code-linting">
     Code linting
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#type-annotations">
     Type annotations
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#unit-tests">
     Unit tests
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#packaging-and-dependency-management">
   Packaging and dependency management
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#managing-dependencies-in-python">
     Managing dependencies in Python
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#semantic-versioning">
     Semantic versioning
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pip-and-requirements-txt">
     pip and requirements.txt
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#virtual-environments">
     Virtual environments
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#conda-and-environment-yml">
     conda and environment.yml
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#poetry">
     Poetry
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#poetry-and-virtual-environments">
     Poetry and virtual environments
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-pyproject-toml-file">
     The pyproject.toml file
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#caret-requirements">
     Caret requirements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-poetry-lock-file">
     The poetry.lock file
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#working-with-notebooks">
   Working with notebooks
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#advantages-of-jupyter-notebooks">
     Advantages of Jupyter notebooks
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#drawbacks-of-jupyter-notebooks">
     Drawbacks of Jupyter notebooks
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#collaborating-with-notebooks">
     Collaborating with notebooks
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#code-organization">
     Code organization
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#notebook-workflow">
     Notebook workflow
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="python-good-practices">
<h1>Python good practices<a class="headerlink" href="#python-good-practices" title="Permalink to this headline">¶</a></h1>
<div class="section" id="environment-setup">
<h2>Environment setup<a class="headerlink" href="#environment-setup" title="Permalink to this headline">¶</a></h2>
<div class="cell tag_hide-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip install papermill
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: papermill in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (2.3.3)
Requirement already satisfied: ansiwrap in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from papermill) (0.8.4)
Requirement already satisfied: requests in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from papermill) (2.22.0)
Requirement already satisfied: entrypoints in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from papermill) (0.3)
Requirement already satisfied: nbclient&gt;=0.2.0 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from papermill) (0.5.0)
Requirement already satisfied: black in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from papermill) (19.10b0)
Requirement already satisfied: click in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from papermill) (7.0)
Requirement already satisfied: nbformat&gt;=5.1.2 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from papermill) (5.1.3)
Requirement already satisfied: tenacity in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from papermill) (8.0.1)
Requirement already satisfied: pyyaml in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from papermill) (5.4.1)
Requirement already satisfied: tqdm&gt;=4.32.2 in /Users/baptiste/.local/lib/python3.7/site-packages (from papermill) (4.36.1)
Requirement already satisfied: textwrap3&gt;=0.9.2 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from ansiwrap-&gt;papermill) (0.9.2)
Requirement already satisfied: chardet&lt;3.1.0,&gt;=3.0.2 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from requests-&gt;papermill) (3.0.4)
Requirement already satisfied: certifi&gt;=2017.4.17 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from requests-&gt;papermill) (2020.12.5)
Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,&lt;1.26,&gt;=1.21.1 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from requests-&gt;papermill) (1.25.7)
Requirement already satisfied: idna&lt;2.9,&gt;=2.5 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from requests-&gt;papermill) (2.8)
Requirement already satisfied: nest-asyncio in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from nbclient&gt;=0.2.0-&gt;papermill) (1.4.0)
Requirement already satisfied: async-generator in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from nbclient&gt;=0.2.0-&gt;papermill) (1.10)
Requirement already satisfied: traitlets&gt;=4.2 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from nbclient&gt;=0.2.0-&gt;papermill) (4.3.3)
Requirement already satisfied: jupyter-client&gt;=6.1.5 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from nbclient&gt;=0.2.0-&gt;papermill) (6.1.7)
Requirement already satisfied: regex in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from black-&gt;papermill) (2020.5.14)
Requirement already satisfied: pathspec&lt;1,&gt;=0.6 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from black-&gt;papermill) (0.8.0)
Requirement already satisfied: typed-ast&gt;=1.4.0 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from black-&gt;papermill) (1.4.1)
Requirement already satisfied: appdirs in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from black-&gt;papermill) (1.4.4)
Requirement already satisfied: toml&gt;=0.9.4 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from black-&gt;papermill) (0.10.1)
Requirement already satisfied: attrs&gt;=18.1.0 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from black-&gt;papermill) (19.3.0)
Requirement already satisfied: jupyter-core in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from nbformat&gt;=5.1.2-&gt;papermill) (4.6.3)
Requirement already satisfied: jsonschema!=2.5.0,&gt;=2.4 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from nbformat&gt;=5.1.2-&gt;papermill) (3.2.0)
Requirement already satisfied: ipython-genutils in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from nbformat&gt;=5.1.2-&gt;papermill) (0.2.0)
Requirement already satisfied: decorator in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from traitlets&gt;=4.2-&gt;nbclient&gt;=0.2.0-&gt;papermill) (4.4.2)
Requirement already satisfied: six in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from traitlets&gt;=4.2-&gt;nbclient&gt;=0.2.0-&gt;papermill) (1.14.0)
Requirement already satisfied: pyzmq&gt;=13 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from jupyter-client&gt;=6.1.5-&gt;nbclient&gt;=0.2.0-&gt;papermill) (18.1.1)
Requirement already satisfied: tornado&gt;=4.1 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from jupyter-client&gt;=6.1.5-&gt;nbclient&gt;=0.2.0-&gt;papermill) (6.0.4)
Requirement already satisfied: python-dateutil&gt;=2.1 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from jupyter-client&gt;=6.1.5-&gt;nbclient&gt;=0.2.0-&gt;papermill) (2.8.1)
Requirement already satisfied: setuptools in /Users/baptiste/.local/lib/python3.7/site-packages (from jsonschema!=2.5.0,&gt;=2.4-&gt;nbformat&gt;=5.1.2-&gt;papermill) (42.0.2)
Requirement already satisfied: pyrsistent&gt;=0.14.0 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from jsonschema!=2.5.0,&gt;=2.4-&gt;nbformat&gt;=5.1.2-&gt;papermill) (0.16.0)
Requirement already satisfied: importlib-metadata; python_version &lt; &quot;3.8&quot; in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from jsonschema!=2.5.0,&gt;=2.4-&gt;nbformat&gt;=5.1.2-&gt;papermill) (1.5.0)
Requirement already satisfied: zipp&gt;=0.5 in /Users/baptiste/miniconda3/envs/tf2/lib/python3.7/site-packages (from importlib-metadata; python_version &lt; &quot;3.8&quot;-&gt;jsonschema!=2.5.0,&gt;=2.4-&gt;nbformat&gt;=5.1.2-&gt;papermill) (3.1.0)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">platform</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Python version: </span><span class="si">{</span><span class="n">platform</span><span class="o">.</span><span class="n">python_version</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">platform</span><span class="o">.</span><span class="n">python_version_tuple</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;6&quot;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">papermill</span> <span class="k">as</span> <span class="nn">pm</span>

<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">YouTubeVideo</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Python version: 3.7.5
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="writing-pythonic-code">
<h2>Writing pythonic code<a class="headerlink" href="#writing-pythonic-code" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">this</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren&#39;t special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you&#39;re Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it&#39;s a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let&#39;s do more of those!
</pre></div>
</div>
</div>
</div>
<div class="section" id="what-does-pythonic-mean">
<h3>What does “Pythonic” mean?<a class="headerlink" href="#what-does-pythonic-mean" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Python code is considered <em>pythonic</em> if it:</p>
<ul>
<li><p>conforms to the Python philosophy;</p></li>
<li><p>takes advantage of the language’s specific features.</p></li>
</ul>
</li>
<li><p>Pythonic code is nothing more than <strong>idiomatic Python code</strong> that strives to be clean, concise and readable.</p></li>
</ul>
</div>
<div class="section" id="example-swapping-two-variables">
<h3>Example: swapping two variables<a class="headerlink" href="#example-swapping-two-variables" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>

<span class="c1"># Non-pythonic</span>
<span class="n">tmp</span> <span class="o">=</span> <span class="n">a</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">b</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">tmp</span>

<span class="c1"># Pythonic</span>
<span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="example-iterating-on-a-list">
<h3>Example: iterating on a list<a class="headerlink" href="#example-iterating-on-a-list" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">do_something</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
    <span class="c1"># print(item)</span>
    <span class="k">pass</span>


<span class="c1"># Non-pythonic</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">my_list</span><span class="p">):</span>
    <span class="n">do_something</span><span class="p">(</span><span class="n">my_list</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="c1"># Still non-pythonic</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">my_list</span><span class="p">)):</span>
    <span class="n">do_something</span><span class="p">(</span><span class="n">my_list</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="c1"># Pythonic</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">my_list</span><span class="p">:</span>
    <span class="n">do_something</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="example-indexed-traversal">
<h3>Example: indexed traversal<a class="headerlink" href="#example-indexed-traversal" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]</span>

<span class="c1"># Non-pythonic</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">my_list</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;-&gt;&quot;</span><span class="p">,</span> <span class="n">my_list</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="c1"># Pythonic</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">my_list</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;-&gt;&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0 -&gt; a
1 -&gt; b
2 -&gt; c
0 -&gt; a
1 -&gt; b
2 -&gt; c
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="example-searching-in-a-list">
<h3>Example: searching in a list<a class="headerlink" href="#example-searching-in-a-list" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;apples&quot;</span><span class="p">,</span> <span class="s2">&quot;oranges&quot;</span><span class="p">,</span> <span class="s2">&quot;bananas&quot;</span><span class="p">,</span> <span class="s2">&quot;grapes&quot;</span><span class="p">]</span>
<span class="n">fruit</span> <span class="o">=</span> <span class="s2">&quot;cherries&quot;</span>

<span class="c1"># Non-pythonic</span>
<span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">fruits</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">fruits</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">fruit</span><span class="p">:</span>
        <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># Pythonic</span>
<span class="n">found</span> <span class="o">=</span> <span class="n">fruit</span> <span class="ow">in</span> <span class="n">fruits</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="example-generating-a-list">
<h3>Example: generating a list<a class="headerlink" href="#example-generating-a-list" title="Permalink to this headline">¶</a></h3>
<p>This feature is called <a class="reference external" href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions">list comprehension</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>

<span class="c1"># Non-pythonic</span>
<span class="n">doubles</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">numbers</span><span class="p">)):</span>
    <span class="k">if</span> <span class="n">numbers</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">doubles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">numbers</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">doubles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">numbers</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="c1"># Pythonic</span>
<span class="n">doubles</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="code-style">
<h3>Code style<a class="headerlink" href="#code-style" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP8</a> is the official style guide for Python:</p>
<ul>
<li><p>use 4 spaces for indetation;</p></li>
<li><p>define a maximum value for line length (around 80 characters);</p></li>
<li><p>organize imports at beginning of file;</p></li>
<li><p>surround binary operators with a single space on each side;</p></li>
<li><p>…</p></li>
</ul>
</li>
<li><p>Code style should be enforced upon creation by a tool like <a class="reference external" href="https://github.com/psf/black">black</a>.</p></li>
</ul>
</div>
<div class="section" id="beyond-pep8">
<h3>Beyond PEP8<a class="headerlink" href="#beyond-pep8" title="Permalink to this headline">¶</a></h3>
<p>Focusing on style and PEP8-compliance might make you miss more fundamental code imperfections.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">YouTubeVideo</span><span class="p">(</span><span class="s2">&quot;wf-BqAjZb8M&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="400"
    height="300"
    src="https://www.youtube.com/embed/wf-BqAjZb8M"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
</div>
<div class="section" id="docstrings">
<h3>Docstrings<a class="headerlink" href="#docstrings" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference external" href="https://www.python.org/dev/peps/pep-0257/">docstring</a> is a string literal that occurs as the first statement in a module, function, class, or method definition to document it.</p>
<p>All modules, classes, public methods and exported functions should include a docstring.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">complex</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">imag</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Form a complex number.</span>

<span class="sd">    Keyword arguments:</span>
<span class="sd">    real -- the real part (default 0.0)</span>
<span class="sd">    imag -- the imaginary part (default 0.0)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">imag</span> <span class="o">==</span> <span class="mf">0.0</span> <span class="ow">and</span> <span class="n">real</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">complex_zero</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="code-linting">
<h3>Code linting<a class="headerlink" href="#code-linting" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><em>Linting</em> is the process of checking code for syntactical and stylistic problems before execution.</p></li>
<li><p>It is useful to catch errors and improve code quality in dynamically typed, interpreted languages, where there is no compiler.</p></li>
<li><p>Several linters exist in the Python ecosystem. The most commonly used is <a class="reference external" href="https://pylint.org/">pylint</a>.</p></li>
</ul>
</div>
<div class="section" id="type-annotations">
<h3>Type annotations<a class="headerlink" href="#type-annotations" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added in Python 3.5, <a class="reference external" href="https://www.python.org/dev/peps/pep-0484/">type annotations</a> allow to add type hints to code entities like variables or functions, bringing a statically typed flavour to the language.</p></li>
<li><p><a class="reference external" href="http://mypy-lang.org/">mypy</a> can automatically check the code for annotation correctness.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">greeting</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;Hello &quot;</span> <span class="o">+</span> <span class="n">name</span>


<span class="c1"># greeting(&#39;Alice&#39;)  # OK</span>
<span class="c1"># greeting(3)  # mypy error: incompatible type &quot;int&quot;; expected &quot;str&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="unit-tests">
<h3>Unit tests<a class="headerlink" href="#unit-tests" title="Permalink to this headline">¶</a></h3>
<p>Unit tests automate the testing of individual code elements like functions or methods, thus decreasing the risk of bugs and regressions.</p>
<p>They can be implemented in Python using tools like <a class="reference external" href="https://docs.python.org/3/library/unittest.html">unittest</a> or <a class="reference external" href="https://docs.pytest.org">pytest</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">inc</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>


<span class="k">def</span> <span class="nf">test_answer</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">inc</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span>  <span class="c1"># AssertionError: assert 4 == 5</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="packaging-and-dependency-management">
<h2>Packaging and dependency management<a class="headerlink" href="#packaging-and-dependency-management" title="Permalink to this headline">¶</a></h2>
<div class="section" id="managing-dependencies-in-python">
<h3>Managing dependencies in Python<a class="headerlink" href="#managing-dependencies-in-python" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Most Python apps depend on third-party libraries and frameworks (NumPy, Flask, Requests…).</p></li>
<li><p>These tools may also have external dependencies, and so on.</p></li>
<li><p><strong>Dependency management</strong> is necessary to prevent version conflicts and incompatibilities. it involves two things:</p>
<ul>
<li><p>a way for the app to declare its dependencies;</p></li>
<li><p>a tool to resolve these dependencies and install compatible versions.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="semantic-versioning">
<h3>Semantic versioning<a class="headerlink" href="#semantic-versioning" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Software versioning convention used in many ecosystems.</p></li>
<li><p>A version number comes as a suite of three digits <code class="docutils literal notranslate"><span class="pre">X.Y.Z</span></code>.</p>
<ul>
<li><p>X = major version (potentially including breaking changes).</p></li>
<li><p>Y = minor version (only non-breaking changes).</p></li>
<li><p>Z = patch.</p></li>
</ul>
</li>
<li><p>Digits are incremented as new versions are shipped.</p></li>
</ul>
</div>
<div class="section" id="pip-and-requirements-txt">
<h3>pip and requirements.txt<a class="headerlink" href="#pip-and-requirements-txt" title="Permalink to this headline">¶</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file is the most basic way of declaring dependencies in Python.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>certifi&gt;=2020.11.0
chardet==4.0.0
click&gt;=6.5.0, &lt;7.1
download==0.3.5
Flask&gt;=1.1.0
</pre></div>
</div>
<p>The <a class="reference external" href="https://pypi.org/project/pip/">pip</a> package installer can read this file and act accordingly, downloading dependencies from <a class="reference external" href="https://pypi.org/">PyPI</a>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -r requirements.txt
</pre></div>
</div>
</div>
<div class="section" id="virtual-environments">
<h3>Virtual environments<a class="headerlink" href="#virtual-environments" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>A <strong>virtual environment</strong> is an isolated Python environment where a project’s dependencies are installed.</p></li>
<li><p>Using them prevents the risk of mixing dependencies required by different projects on the same machine.</p></li>
<li><p>Several tools exist to manage virtual environments in Python, for example <a class="reference external" href="https://virtualenv.pypa.io">virtualenv</a> and <a class="reference external" href="https://docs.conda.io">conda</a>.</p></li>
</ul>
</div>
<div class="section" id="conda-and-environment-yml">
<h3>conda and environment.yml<a class="headerlink" href="#conda-and-environment-yml" title="Permalink to this headline">¶</a></h3>
<p>Installed as part of the <a class="reference external" href="https://www.anaconda.com/">Anaconda</a> distribution, the <a class="reference external" href="https://docs.conda.io">conda</a> package manager reads an <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> file to install the dependencies associated to a specific virtual environment.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example-env</span>

<span class="nt">channels</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">defaults</span>

<span class="nt">dependencies</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">python=3.7</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">matplotlib</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">numpy</span>
</pre></div>
</div>
</div>
<div class="section" id="poetry">
<h3>Poetry<a class="headerlink" href="#poetry" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://python-poetry.org">Poetry</a> is a recent packaging and dependency management tool for Python. It downloads packages from <a class="reference external" href="https://pypi.org/">PyPI</a> by default.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a new poetry-compliant project</span>
poetry new &lt;project name&gt;

<span class="c1"># Initialize an already existing project for Poetry</span>
poetry init

<span class="c1"># Install defined dependencies</span>
poetry install

<span class="c1"># Add a package to project dependencies and install it</span>
poetry add &lt;package name&gt;

<span class="c1"># Update dependencies to sync them with configuration file</span>
poetry update
</pre></div>
</div>
</div>
<div class="section" id="poetry-and-virtual-environments">
<h3>Poetry and virtual environments<a class="headerlink" href="#poetry-and-virtual-environments" title="Permalink to this headline">¶</a></h3>
<p>By default, Poetry creates a virtual environment for the configured project in a user-specific folder. A standard practice is to store it in the project’s folder.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tell Poetry to store the environment in the local project folder</span>
poetry config virtualenvs.in-project <span class="nb">true</span>

<span class="c1"># Activate the environment</span>
poetry shell
</pre></div>
</div>
</div>
<div class="section" id="the-pyproject-toml-file">
<h3>The pyproject.toml file<a class="headerlink" href="#the-pyproject-toml-file" title="Permalink to this headline">¶</a></h3>
<p>Poetry configuration file, soon-to-be standard for Python projects.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[tool.poetry]</span>
<span class="n">name</span> <span class="o">=</span> <span class="s">&quot;poetry example&quot;</span>
<span class="n">version</span> <span class="o">=</span> <span class="s">&quot;0.1.0&quot;</span>
<span class="n">description</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>

<span class="k">[tool.poetry.dependencies]</span>
<span class="n">python</span> <span class="o">=</span> <span class="s">&quot;&gt;=3.7.1,&lt;3.10&quot;</span>
<span class="n">jupyter</span> <span class="o">=</span> <span class="s">&quot;^1.0.0&quot;</span>
<span class="n">matplotlib</span> <span class="o">=</span> <span class="s">&quot;^3.3.2&quot;</span>
<span class="n">sklearn</span> <span class="o">=</span> <span class="s">&quot;^0.0&quot;</span>
<span class="n">pandas</span> <span class="o">=</span> <span class="s">&quot;^1.1.3&quot;</span>
<span class="n">ipython</span> <span class="o">=</span> <span class="s">&quot;^7.0.0&quot;</span>

<span class="k">[tool.poetry.dev-dependencies]</span>
<span class="n">pytest</span> <span class="o">=</span> <span class="s">&quot;^6.1.1&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="caret-requirements">
<h3>Caret requirements<a class="headerlink" href="#caret-requirements" title="Permalink to this headline">¶</a></h3>
<p>Offers a way to precisely define dependency versions.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p>Requirement</p></th>
<th class="text-align:center head"><p>Versions allowed</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p>^1.2.3</p></td>
<td class="text-align:center"><p>&gt;=1.2.3 &lt;2.0.0</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>^1.2</p></td>
<td class="text-align:center"><p>&gt;=1.2.0 &lt;2.0.0</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>~1.2.3</p></td>
<td class="text-align:center"><p>&gt;=1.2.3 &lt;1.3.0</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>~1.2</p></td>
<td class="text-align:center"><p>&gt;=1.2.0 &lt;1.3.0</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>1.2.3</p></td>
<td class="text-align:center"><p>1.2.3 only</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-poetry-lock-file">
<h3>The poetry.lock file<a class="headerlink" href="#the-poetry-lock-file" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The first time Poetry install dependencies, it creates a <code class="docutils literal notranslate"><span class="pre">poetry.lock</span></code> file that contains the exact versions of all installed packages.</p></li>
<li><p>Subsequent installs will use these exact versions to ensure consistency.</p></li>
<li><p>Removing this file and running another Poetry install will fetch the latest matching versions.</p></li>
</ul>
</div>
</div>
<div class="section" id="working-with-notebooks">
<h2>Working with notebooks<a class="headerlink" href="#working-with-notebooks" title="Permalink to this headline">¶</a></h2>
<div class="section" id="advantages-of-jupyter-notebooks">
<h3>Advantages of Jupyter notebooks<a class="headerlink" href="#advantages-of-jupyter-notebooks" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Standard format for mixing text, images and (executable) code.</p></li>
<li><p>Open source and platform-independant.</p></li>
<li><p>Useful for experimenting and prototyping.</p></li>
<li><p>Growing ecosystem of <a class="reference external" href="https://tljh.jupyter.org/en/latest/howto/admin/enable-extensions.html">extensions</a> for various purposes and cloud hosting solutions (<a class="reference external" href="https://colab.research.google.com/">Colaboratory</a>, <a class="reference external" href="https://www.ovhcloud.com/en/public-cloud/ai-notebook/">AI notebooks</a>…).</p></li>
<li><p>Integration with tools like <a class="reference external" href="https://code.visualstudio.com/docs/datascience/jupyter-notebooks">Visual Studio Code</a>.</p></li>
</ul>
</div>
<div class="section" id="drawbacks-of-jupyter-notebooks">
<h3>Drawbacks of Jupyter notebooks<a class="headerlink" href="#drawbacks-of-jupyter-notebooks" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Arbitrary execution order of cells can cause confusing errors.</p></li>
<li><p>Notebooks don’t encourage good programming habits like modularization, linting and tests.</p></li>
<li><p>Being JSON-based, their versioning is more difficult than for plain text files.</p></li>
<li><p>Dependency management is also difficult, thus hindering reproducibility.</p></li>
</ul>
</div>
<div class="section" id="collaborating-with-notebooks">
<h3>Collaborating with notebooks<a class="headerlink" href="#collaborating-with-notebooks" title="Permalink to this headline">¶</a></h3>
<p>A common solution for sharing notebooks between a team is to use <a class="reference external" href="https://jupytext.readthedocs.io">Jupytext</a>. This tool can associate an <code class="docutils literal notranslate"><span class="pre">.ipynb</span></code> file with a Python file to facilitate collaboration and version control.</p>
<p><a class="reference external" href="https://jupytext.readthedocs.io/en/latest/examples.html"><img alt="Collaboration example through Jupytext" src="../_images/JupyterPyCharm.gif" /></a></p>
</div>
<div class="section" id="code-organization">
<h3>Code organization<a class="headerlink" href="#code-organization" title="Permalink to this headline">¶</a></h3>
<p>Monolithic notebooks can grow over time and become hard to understand and maintain.</p>
<p>Just like in a traditional software project, it is possible to split them into separate parts, thus following the <a class="reference external" href="https://en.wikipedia.org/wiki/Separation_of_concerns">separation of concerns</a> design principle.</p>
<p>Code can be splitted into several sub-notebooks and/or external Python files. The latter facilitates unit testing and version control.</p>
</div>
<div class="section" id="notebook-workflow">
<h3>Notebook workflow<a class="headerlink" href="#notebook-workflow" title="Permalink to this headline">¶</a></h3>
<p>Tools like <a class="reference external" href="https://papermill.readthedocs.io">papermill</a> can orchestrate the execution of several notebooks in a row. External parameters can be passed to notebooks, and the runtime flow can depend on the execution results of each notebook.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Doesn&#39;t work on Google Colaboratory. Workaround here: </span>
<span class="c1"># https://colab.research.google.com/github/rjdoubleu/Colab-Papermill-Patch/blob/master/Colab-Papermill-Driver.ipynb</span>
<span class="n">notebook_dir</span> <span class="o">=</span> <span class="s2">&quot;./papermill&quot;</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">execute_notebook</span><span class="p">(</span>
    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">notebook_dir</span><span class="p">,</span> <span class="s2">&quot;simple_input.ipynb&quot;</span><span class="p">),</span>
    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">notebook_dir</span><span class="p">,</span> <span class="s2">&quot;simple_output.ipynb&quot;</span><span class="p">),</span>
    <span class="n">parameters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;msg&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello&quot;</span><span class="p">},</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "c0a5ec58377a4f3fbfd3504d6862593b", "version_major": 2, "version_minor": 0}
</script><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./tools"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="python_cheatsheet.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Python cheatsheet</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="numpy.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">NumPy</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Baptiste Pesquet<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>